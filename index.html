<!DOCTYPE html>
<html>
<body>

<h2>The XMLHttpRequest Object</h2>
<button type="button" onclick="loadDoc()">Request data</button>
<p id="demo"></p>

<script>
    function loadDoc() {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function () {
            var responseObj = JSON.parse(this.responseText);
            // responseObj
            tableCreate(4,3);
            console.log(a);
            //document.getElementById("demo").innerHTML = this.responseText;
        }
        xhttp.open("GET", "http://localhost:8080/api/students/");
        xhttp.send();
    }

    function tableCreate(rows, cols) {
        const body = document.body,
            tbl = document.createElement('table');
        tbl.style.width = '100px';
        tbl.style.border = '1px solid black';

        for (let i = 0; i < rows; i++) {
            const tr = tbl.insertRow();
            for (let j = 0; j < cols; j++) {
                // if (i === 2 && j === 1) {
                //     break;
                // } else {
                    const td = tr.insertCell();
                    td.appendChild(document.createTextNode(`Cell I${i}/J${j}`));
                    // td.style.border = '1px solid black';
                    // if (i === 1 && j === 1) {
                    //     td.setAttribute('rowSpan', '2');
                    // }
                // }
            }
        }
        body.appendChild(tbl);
    }

</script>

</body>
</html>
