<!DOCTYPE html>
<html>
<body>

<h2>The XMLHttpRequest Object</h2>
<button type="button" onclick="loadDoc()">Request data</button>
<p id="demo"></p>

<script>
    function loadDoc() {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function () {
            const responseObj = JSON.parse(this.responseText);
            tableCreate(responseObj);
            console.log(a);
            //document.getElementById("demo").innerHTML = this.responseText;
        }
        xhttp.open("GET", "http://localhost:8080/api/students/");
        xhttp.send();
    }

    loadDoc();

    function tableCreate(responseObj) {
        rows = responseObj.length;
        cols = 4;


        const body = document.body,
            tbl = document.createElement('table');
        tbl.style.width = '100px';
        tbl.style.border = '1px solid black';

        for (let r = 0; r < rows; r++) {
            const tr = tbl.insertRow();
            for (let c = 0; c < cols; c++) {
                const td = tr.insertCell();
                if (c == 0) {
                    td.appendChild(document.createTextNode(responseObj[0].fullName));
                } else {

                    td.appendChild(document.createTextNode(`Cell I${r}/J${c}`));
                }
            }
        }
        body.appendChild(tbl);
    }

</script>

</body>
</html>
